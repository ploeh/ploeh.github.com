---
layout: post
title: "Karma from bash on Windows"
description: "Note to future self: how I got Karma running from bash in Windows."
date: 2013-09-13 07:02 UTC
tags: [Miscellaneous, Languages]
---
{% include JB/setup %}

<div id="post">
  <p>
    <em>{{ page.description }}</em>
  </p>
  <p>
    Yesterday, I spent quite a bit of time getting <a href="http://karma-runner.github.io">Karma</a> to run from bash on my Windows 7 (x64) laptop. Since, a month from now, I'll have absolutely no recollection of how I achieved this, I'm writing it down here for the benefit of my future self, as well as any other people who may find this valuable.
  </p>
  <h3 id="9920c4962cc8416ea025c7f378d9aa2c">
    Add karma to PATH <a href="#9920c4962cc8416ea025c7f378d9aa2c" title="permalink">#</a>
  </h3>
  <p>
    My first problem was that 'karma' wasn't a recognized command. Although I'd used <a href="http://chocolatey.org">Chocolatey</a> to install <a href="http://nodejs.org">node.js</a>, used <a href="https://npmjs.org">npm</a> to install Karma, and 'karma' was a recognized command from PowerShell, bash didn't recognize it. While I don't yet know if the following is the 100 % correct solution, I managed to make bash recognize karma by adding my karma directory to my bash path:
  </p>
  <p>
    <pre>PATH=$PATH:~/appdata/roaming/npm/node_modules/karma/bin</pre>
  </p>
  <p>
    This works in the session itself, but will be forgotten by bash unless you add it to ~/.bash_profile. BTW, that file doesn't exist by default in a new Git Bash installation on Windows, so you'll have to add it yourself.
  </p>
  <h3 id="b0b3c667792b4154acd6782874ee1552">
    Chrome path <a href="#b0b3c667792b4154acd6782874ee1552" title="permalink">#</a>
  </h3>
  <p>
    My next problem was that, while karma could be found, I got the error message that it couldn't find Chrome, and that I should set the CHROME_BIN environment variable. After much experimentation, I managed to make it work by setting:
  </p>
  <p>
    <pre>CHROME_BIN=/c/Program\ Files\ \(x86\)/Google/Chrome/Application/chrome.exe
export CHROME_BIN</pre>
  </p>
  <p>
    That looks really simple, so why did I waste so much time shaving that yak? Well, setting the environment variable was one thing, but it didn't work before I also figured out to <code>export</code> it.
  </p>
  <p>
    Once again, I added these lines to my .bash_profile file. Now I can run Karma from bash on Windows.
  </p>
</div>
