---
layout: post
tags: [AutoFixture, Unit Testing, xUnit.net]
date: 2013-02-12 13:45:36 UTC
title: "String Calculator kata with Autofixture exercise 4"
---
{% include JB/setup %}

<div id="post">
	<p>
	This is the fourth post in <a href="http://blog.ploeh.dk/2013/02/06/StringCalculatorKataWithAutoFixture.aspx">a series of posts</a> about the <a href="http://osherove.com/tdd-kata-1/">String Calculator kata</a> done with <a href="https://github.com/AutoFixture/AutoFixture">AutoFixture</a>.
</p>
<p>
	This screencast implements the requirement of the kata's exercise 4.
</p>
<p>
	<iframe src="http://www.youtube.com/embed/kEWIwFfmsa4" allowfullscreen="" frameborder="0" height="315" width="420"></iframe>
</p>
<p>
	<a href="http://blog.ploeh.dk/2013/02/13/StringCalculatorKataWithAutofixtureExercise5.aspx">Next exercise</a>
</p>
<p>
	If you liked this screencast, you may also like my <a href="http://pluralsight.com">Pluralsight</a> course <a href="http://pluralsight.com/training/Courses/TableOfContents/outside-in-tdd">Outside-In Test-Driven Development</a>.
</p>
</div>
	
<div id="comments">
<hr>
<h2 id="comments-header">
	Comments
</h2>
	<div class="comment">
	<div class="comment-author">Jiggaboo</div>
	<div class="comment-content">Wow, this test is so unreadable! I wouldn't allow it in my project.<br>
Also I wonder what if you have error in summing? Error will show sth. like: Expected 34212, was 19857. How do you know what numbers where generated by int generator?</div>
	<div class="comment-date">2013-02-12 18:22 UTC</div>
</div><div class="comment">
	<div class="comment-author"><a href="http://blog.ploeh.dk">Mark Seemann</a></div>
	<div class="comment-content">Undreadable? Well, my mother and my wife both find C# unreadable, while I don't (and I suspect you don't either). Other people find F# unreadable, while it's beginning to grow on me. Personally, I find Clojure unreadable, but I'm certain it's only a matter of time.<br>
<br>
Unit tests that leverage AutoFixture tends to be terser and more declarative in nature than more traditional unit tests, which tend to look more imperative. Like every other new thing, it takes some time getting used to.<br>
<br>
That said, there are things about the String Calculator kata that makes it a less than ideal fit for AutoFixture. The problem with the kata is that it's essentially just a bunch of more or less arbitrary rules (throw on negative numbers, ignore numbers bigger than 1000, support custom delimiter strings, etc.) There's no real domain being modelled here.<br>
<br>
If there had been a more proper domain, a refactoring phase would probably have prompted me to redesign the API and introduced a custom Delimiter Value Object that I could have requested in the test, instead of requesting a Generator. That would have made the test even terser, but also, IMO, more readable. However, I didn't want to do that in this screencast, as I was concerned it would be too much of a digression.</div>
	<div class="comment-date">2013-02-13 13:27 UTC</div>
</div>
</div>