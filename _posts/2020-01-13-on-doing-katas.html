---
layout: post
title: "On doing katas"
description: "Approach programming katas differently than martial arts katas."
date: 2020-01-13 6:23 UTC
tags: [Productivity]
---
{% include JB/setup %}

<div id="post">
	<p>
		<em>{{ page.description }}</em>
	</p>
	<p>
		Would you like to become a better programmer? Then practice. It's no different from becoming a better musician, a better sports(wo)man, a better cook, a better artist, etcetera.
	</p>
	<p>
		How do you practice programming?
	</p>
	<p>
		There's many ways. Doing <a href="https://en.wikipedia.org/wiki/Kata_(programming)">programming katas</a> is one way.
	</p>
	<h3 id="16e8612d24b14930a4d7cc02ebad6fd6">
		Variation, not repetition <a href="#16e8612d24b14930a4d7cc02ebad6fd6" title="permalink">#</a>
	</h3>
	<p>
		When I talk to other programmers about katas, I often get the impression that people fail to extract value from the exercises. You can find catalogues of exercises on the internet, but there's a dearth of articles that discuss <em>how</em> to do katas.
	</p>
	<p>
		Part of the problem is, I think, that <a href="https://en.wikipedia.org/wiki/Kata">the term comes from martial arts practice</a>. In martial arts, one repeats the same movements over and over again in order to build up <a href="https://en.wikipedia.org/wiki/Muscle_memory">muscle memory</a>. Repetition produces improvements.
	</p>
	<p>
		Some people translate that concept literally. They try to do programming katas by doing the <em>same exercise</em> again and again, with no variation. After a few days or weeks, they stop because they can't see the point.
	</p>
	<p>
		That's no wonder. Neither can I.
	</p>
	<p>
		Programming and software design is mostly an intellectual (and perhaps artistic) endeavour. Unless you can't <a href="https://en.wikipedia.org/wiki/Touch_typing">touch type</a>, there's little need to build up muscle memory. You train your brain unlike you train your muscles. Repetition numbs the brain. Variation stimulates it.
	</p>
	<h3 id="5e0804109e5c40cb80f0c3c9274afb30">
		Suggested variations <a href="#5e0804109e5c40cb80f0c3c9274afb30" title="permalink">#</a>
	</h3>
	<p>
		I find that doing a kata is a great opportunity to explore alternatives. A kata is usually a limited exercise, which means that you can do it multiple times and compare outcomes.
	</p>
	<p>
		You can find various kata catalogues on the internet. One of my favourites is the <a href="http://bit.ly/codekatas">Coding Dojo</a>. Among the katas there, I particularly like the <a href="http://codingdojo.org/kata/Tennis">Tennis kata</a>. I'll use that as an example to describe how I often approach a kata.
	</p>
	<p>
		The first time I encounter a kata I've never done before, I do it with as little fuss as possible. I use the programming language I'm most comfortable with, and don't attempt any stunts. I no longer remember when I first encountered the Tennis kata, but it's many years ago, and C# was my preferred language. I'd do the Tennis kata in C#, then, just to get acquainted with the problem.
	</p>
	<p>
		Most good katas contain small surprises. They may sound simpler than they actually turn out to be. On the other hand, they're typically not overwhelmingly difficult. It pays to overcome the surprise the kata may hold without getting bogged down by trying some feat. The Tennis kata, for example, sounds easy, but most people stumble on the rules associated with <em>deuce</em> and <em>advantage</em>. How to model the API? How do you implement the algorithm?
	</p>
	<p>
		Once you're comfortable with the essence of the exercise, introduce variations. Most of the variations I use take the form of some sort of constraint. <a href="https://www.dotnetrocks.com/?show=1542">Constraints liberate</a>. <a href="/2015/04/13/less-is-more-language-features">Less is more</a>.
	</p>
	<p>
		Here's a list of suggestions:
		<ul>
			<li><a href="/2019/10/21/a-red-green-refactor-checklist">Follow test-driven development</a> (TDD). That's my usual modus operandi, but if you don't normally practice TDD, a kata is a great opportunity.</li>
			<li>Use the (<em>Gollum style</em>) <a href="/2019/10/07/devils-advocate">Devil's Advocate</a> technique with TDD.</li>
			<li>Follow the <a href="https://blog.cleancoder.com/uncle-bob/2013/05/27/TheTransformationPriorityPremise.html">Transformation Priority Premise</a>.</li>
			<li>Do TDD without mocks.</li>
			<li>Do TDD with mocks.</li>
			<li>Use the <a href="http://www.natpryce.com/articles/000714.html">Test Data Builder design pattern</a>.</li>
			<li>Try <a href="/property-based-testing-intro">property-based testing</a>. I've <a href="/2016/02/10/types-properties-software">done that with the Tennis</a> kata multiple times.</li>
			<li>Put your mouse away.</li>
			<ins datetime="2020-02-20T08:38Z"><li>Hide the file tree in your editor or IDE. In Visual Studio, this is called the <em>Solution Explorer</em>, in Visual Studio Code it's just <em>Explorer</em>. Navigate the code by other means.</li></ins>
			<li>Use another editor or IDE.</li>
			<li>Use another programming language. A kata is a great way to practice a new language. When you're learning a new language, you're often fighting with unfamiliar syntax, which is the reason I recommend that you <em>first</em> do the kata in a language with which you're familiar.</li>
			<li>Use only immutable data structures. This is a good first step towards learning functional programming.</li>
			<li>Keep the <a href="https://en.wikipedia.org/wiki/Cyclomatic_complexity">cyclomatic complexity</a> of all methods at <em>1</em>. I <a href="/2011/05/16/TennisKatawithimmutabletypesandacyclomaticcomplexityof1">once did that with the Tennis kata</a>.</li>
			<li>Use an unfamiliar API. If you normally use <a href="https://nunit.org">NUnit</a> then try <a href="https://xunit.net">xUnit.net</a> instead. Use a new Test Double library. Use a different assertion library. I once did the Tennis kata in <a href="https://www.haskell.org">Haskell</a> using the <a href="http://hackage.haskell.org/package/lens">lens</a> library because I wanted to hone those skills. I've also done the <em>Mark IV coffee maker</em> exercise from <a href="http://amzn.to/19W4JHk">APPP</a> with <a href="http://reactivex.io">Reactive Extensions</a>.</li>
			<li>Employ a design pattern you'd like to understand better. I've had particular success with the <a href="https://en.wikipedia.org/wiki/Visitor_pattern">Visitor design pattern</a>.</li>
			<li>Refactor an existing kata solution to another design.</li>
			<li>Refactor another programmer's kata solution.</li>
			<li><a href="https://en.wikipedia.org/wiki/Pair_programming">Pair-program</a> the kata.</li>
			<li>Use the <a href="http://wiki.c2.com/?PairProgrammingPingPongPattern">Ping Pong pattern</a> when pair programming.</li>
			<li><a href="https://en.wikipedia.org/wiki/Mob_programming">Mob-program</a> it.</li>
		</ul>
		You'll probably come up with your own list of variations.
	</p>
	<p>
		What I like about katas is that they're small enough that you can do the same exercise multiple times, but with different designs. This makes it easy to learn new ways of doing things, because you can compare different approaches to the same problem.
	</p>
	<h3 id="1faffc34ac644021b87c7f0b0691eeef">
		Conclusion <a href="#1faffc34ac644021b87c7f0b0691eeef" title="permalink">#</a>
	</h3>
	<p>
		The way that the idea of a programming kata <a href="http://www.butunclebob.com/ArticleS.UncleBob.TheProgrammingDojo">was originally introduced</a> is a bit unfortunate. On one hand, the metaphor may have helped adoption because martial arts are cool, and Japanese is a beautiful language. On the other hand, the underlying message is one of repetition, which is hardly helpful when it comes to exercising the brain.
	</p>
	<p>
		Repetition dulls the brain, while variation stimulates it. Katas are great because they're short exercises, but you have to deliberately introduce diversity to make them work for you. You're not building muscle memory, you're forming new neural pathways.
	</p>
</div>
<div id="comments">
	<hr>
	<h2 id="comments-header">
		Comments
	</h2>
	<div class="comment" id="?">
		<div class="comment-author">Johannes Schmitt</div>
		<div class="comment-content">
			<p>
				Regarding kata variations, I'd like mention Jeff Bay's <i>Object Calisthenics</i> (by Jeff Bay). One could use all rules at once or just a subset of them.
			</p>
			<p>
				Just briefly, this are the rules (details can be found on the web):
				<ul>
					<li>One level of indentation per method</li>
					<li>Donâ€™t use the ELSE keyword</li>
					<li>Wrap all primitives and strings</li>
					<li>First class collections</li>
					<li>One dot per line</li>
					<li>Don't abbreviate</li>
					<li>Keep all entities small</li>
					<li>No classes with more than two instance variables</li>
					<li>No getters/setters/properties</li>
				</ul>
			</p>
		</div>
		<div class="comment-date">2020-01-14 12:42 UTC</div>
	</div>

	<div class="comment" id="cd5aa5d8944e48c59937986d9fbe464e">
	    <div class="comment-author"><a href="{{ HOME_PATH }}">Mark Seemann</a></div>
	    <div class="comment-content">
	    	<p>
	    		Johannes, that list is a great addition to my suggestions. Thank you.
	    	</p>
	    </div>
	    <div class="comment-date">2020-01-14 13:58 UTC</div>
	</div>
</div>
